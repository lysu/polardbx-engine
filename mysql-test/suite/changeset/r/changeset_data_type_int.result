DROP TABLE IF EXISTS c6;
CREATE TABLE c6 (
id int NOT NULL,
id2 bigint,
id3 tinyint,
id4 smallint,
id5 mediumint,
value VARCHAR(50) NOT NULL,
PRIMARY KEY (id, id2, id3, id4, id5)
) ENGINE=InnoDB;
call polarx.changeset_start('c6');
TABLE
c6
call polarx.changeset_fetch('c6');
OP	PK
INSERT INTO c6 (id, id2, id3, id4, id5, value)
VALUES 
(1, 1000000000000000000, 10, 100, 100000, 'Data1'),
(1, 1000000000000000000, 11, 100, 100000, 'Data1'),
(1, 1000000000000000000, 12, 100, 100000, 'Data1'),
(2, 1000000000000000001, 11, 101, 100001, 'Data2'),
(2, 1000000000000000001, 12, 101, 100001, 'Data2'),
(2, 1000000000000000001, 13, 101, 100001, 'Data2'),
(3, 1000000000000000002, 12, 102, 100002, 'Data3'),
(3, 1000000000000000003, 12, 102, 100002, 'Data3'),
(3, 1000000000000000002, 14, 102, 100002, 'Data3'),
(4, 1000000000000000003, 13, 103, 100003, 'Data4'),
(4, 1000000000000000004, 13, 103, 100003, 'Data4'),
(4, 1000000000000000003, 13, 106, 100003, 'Data4'),
(5, 1000000000000000004, 14, 104, 100004, 'Data5'),
(5, 1000000000000000004, 14, 104, 100005, 'Data5'),
(5, 1000000000000000004, 14, 104, 100006, 'Data5'),
(5, 1000000000000000004, 14, 102, 100004, 'Data5'),
(6, 1000000000000000005, 15, 105, 100005, 'Data6'),
(6, 1000000000000000005, 13, 105, 100005, 'Data6'),
(6, 1000000000000000005, 15, 104, 100005, 'Data6');
select * from c6;
id	id2	id3	id4	id5	value
1	1000000000000000000	10	100	100000	Data1
1	1000000000000000000	11	100	100000	Data1
1	1000000000000000000	12	100	100000	Data1
2	1000000000000000001	11	101	100001	Data2
2	1000000000000000001	12	101	100001	Data2
2	1000000000000000001	13	101	100001	Data2
3	1000000000000000002	12	102	100002	Data3
3	1000000000000000002	14	102	100002	Data3
3	1000000000000000003	12	102	100002	Data3
4	1000000000000000003	13	103	100003	Data4
4	1000000000000000003	13	106	100003	Data4
4	1000000000000000004	13	103	100003	Data4
5	1000000000000000004	14	102	100004	Data5
5	1000000000000000004	14	104	100004	Data5
5	1000000000000000004	14	104	100005	Data5
5	1000000000000000004	14	104	100006	Data5
6	1000000000000000005	13	105	100005	Data6
6	1000000000000000005	15	104	100005	Data6
6	1000000000000000005	15	105	100005	Data6
call polarx.changeset_stats('c6');
SCHEMA	TABLE	NUM_INSERTS	NUM_UPDATES	NUM_DELETES	NUM_FILES	MEMORY_SIZE
test	c6	19	0	0	0	1406
call polarx.changeset_fetch('c6');
OP	id	id2	id3	id4	id5
INSERT	1	1000000000000000000	10	100	100000
INSERT	1	1000000000000000000	11	100	100000
INSERT	1	1000000000000000000	12	100	100000
INSERT	2	1000000000000000001	11	101	100001
INSERT	2	1000000000000000001	12	101	100001
INSERT	2	1000000000000000001	13	101	100001
INSERT	3	1000000000000000002	12	102	100002
INSERT	3	1000000000000000002	14	102	100002
INSERT	3	1000000000000000003	12	102	100002
INSERT	4	1000000000000000003	13	103	100003
INSERT	4	1000000000000000003	13	106	100003
INSERT	4	1000000000000000004	13	103	100003
INSERT	5	1000000000000000004	14	102	100004
INSERT	5	1000000000000000004	14	104	100004
INSERT	5	1000000000000000004	14	104	100005
INSERT	5	1000000000000000004	14	104	100006
INSERT	6	1000000000000000005	13	105	100005
INSERT	6	1000000000000000005	15	104	100005
INSERT	6	1000000000000000005	15	105	100005
update c6 set value = "d";
call polarx.changeset_stats('c6');
SCHEMA	TABLE	NUM_INSERTS	NUM_UPDATES	NUM_DELETES	NUM_FILES	MEMORY_SIZE
test	c6	19	19	0	0	4218
call polarx.changeset_fetch('c6');
OP	id	id2	id3	id4	id5
DELETE	1	1000000000000000000	10	100	100000
INSERT	1	1000000000000000000	10	100	100000
DELETE	1	1000000000000000000	11	100	100000
INSERT	1	1000000000000000000	11	100	100000
DELETE	1	1000000000000000000	12	100	100000
INSERT	1	1000000000000000000	12	100	100000
DELETE	2	1000000000000000001	11	101	100001
INSERT	2	1000000000000000001	11	101	100001
DELETE	2	1000000000000000001	12	101	100001
INSERT	2	1000000000000000001	12	101	100001
DELETE	2	1000000000000000001	13	101	100001
INSERT	2	1000000000000000001	13	101	100001
DELETE	3	1000000000000000002	12	102	100002
INSERT	3	1000000000000000002	12	102	100002
DELETE	3	1000000000000000002	14	102	100002
INSERT	3	1000000000000000002	14	102	100002
DELETE	3	1000000000000000003	12	102	100002
INSERT	3	1000000000000000003	12	102	100002
DELETE	4	1000000000000000003	13	103	100003
INSERT	4	1000000000000000003	13	103	100003
DELETE	4	1000000000000000003	13	106	100003
INSERT	4	1000000000000000003	13	106	100003
DELETE	4	1000000000000000004	13	103	100003
INSERT	4	1000000000000000004	13	103	100003
DELETE	5	1000000000000000004	14	102	100004
INSERT	5	1000000000000000004	14	102	100004
DELETE	5	1000000000000000004	14	104	100004
INSERT	5	1000000000000000004	14	104	100004
DELETE	5	1000000000000000004	14	104	100005
INSERT	5	1000000000000000004	14	104	100005
DELETE	5	1000000000000000004	14	104	100006
INSERT	5	1000000000000000004	14	104	100006
DELETE	6	1000000000000000005	13	105	100005
INSERT	6	1000000000000000005	13	105	100005
DELETE	6	1000000000000000005	15	104	100005
INSERT	6	1000000000000000005	15	104	100005
DELETE	6	1000000000000000005	15	105	100005
INSERT	6	1000000000000000005	15	105	100005
call polarx.changeset_stats('c6');
SCHEMA	TABLE	NUM_INSERTS	NUM_UPDATES	NUM_DELETES	NUM_FILES	MEMORY_SIZE
test	c6	19	19	0	0	2812
call polarx.changeset_finish('c6');
SEQ	ROW
call polarx.changeset_stats('c6');
SCHEMA	TABLE	NUM_INSERTS	NUM_UPDATES	NUM_DELETES	NUM_FILES	MEMORY_SIZE
select * from c6;
id	id2	id3	id4	id5	value
1	1000000000000000000	10	100	100000	d
1	1000000000000000000	11	100	100000	d
1	1000000000000000000	12	100	100000	d
2	1000000000000000001	11	101	100001	d
2	1000000000000000001	12	101	100001	d
2	1000000000000000001	13	101	100001	d
3	1000000000000000002	12	102	100002	d
3	1000000000000000002	14	102	100002	d
3	1000000000000000003	12	102	100002	d
4	1000000000000000003	13	103	100003	d
4	1000000000000000003	13	106	100003	d
4	1000000000000000004	13	103	100003	d
5	1000000000000000004	14	102	100004	d
5	1000000000000000004	14	104	100004	d
5	1000000000000000004	14	104	100005	d
5	1000000000000000004	14	104	100006	d
6	1000000000000000005	13	105	100005	d
6	1000000000000000005	15	104	100005	d
6	1000000000000000005	15	105	100005	d
DROP TABLE IF EXISTS c6;
